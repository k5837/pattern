webpackJsonp([3],{Bn1a:function(e,t){},Bqyb:function(e,t){},Ikfi:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({data:function(){return{radio:"1"}}},a,!1,function(e){n("Ikfi")},null,null).exports,r=n("NYxO"),i=n("/ocq"),l=n("mtWM"),u={data:function(){return{logining:!1,loginForm:{username:"",password:""},rules2:{username:[{required:!0,message:"Please enter the account number",trigger:"blur"}]},checked:!1}},methods:{handleSubmit:function(e){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.post("https://v614backend-1-x1986037.deta.app/api/v1/auth",{key:t.loginForm.username}).then(function(e){200===e.status&&(console.log("登录数据",e.data.user.name),t.$store.commit("GET_USERNAME",e.data.user.name),console.log("姓名为",window.sessionStorage.getItem("username")),t.$message({message:"登录成功",type:"success"}),t.$router.push({path:"/home"}))}).catch(function(e){console.log(e),t.$message({message:"登录失败",type:"error"})})})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("div"),e._v(" "),n("el-form",{ref:"loginForm",staticClass:"demo-ruleForm login-page",attrs:{model:e.loginForm,rules:e.rules2,"status-icon":"","label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title",staticStyle:{color:"#fff","text-align":"center"}},[e._v("Sign in")]),e._v(" "),n("br"),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"user name"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%","background-color":"rgba(111, 32, 120, 0.49)",border:"none"},attrs:{type:"primary",loading:e.logining},on:{click:e.handleSubmit}},[e._v("Sign in")])],1),e._v(" "),n("div",[e._v("\n      还没有账户？ "),n("RouterLink",{attrs:{to:"Register"}},[e._v(" 立即注册！")])],1)],1)],1)},staticRenderFns:[]};var m=n("VU/8")(u,c,!1,function(e){n("Bqyb")},"data-v-5a1c596f",null).exports,d={data:function(){return{menu:[{path:"/",name:"Home",label:"Home ",icon:"s-home",url:"Home/Home"},{name:"pattern",label:"pattern",icon:"video-play",url:"pattern/pattern"}]}},methods:{clickMenu:function(e){console.log(e),this.$router.push({name:e.name}),this.$store.commit("selectMenu",e)}},computed:{noChildren:function(){return this.menu.filter(function(e){return!e.children})},hasChildren:function(){return this.menu.filter(function(e){return e.children})},isCollapse:function(){return this.$store.state.tab.isCollapse}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:e.isCollapse,"background-color":"rgb(104 78 92)","text-color":"#fff","active-text-color":"#ffd04b"}},[n("h4",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}],staticStyle:{color:"#fff","text-align":"center","line-height":"30px","font-weight":"bold"}},[e._v("\n    Sensor system")]),e._v(" "),n("h3",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}]},[e._v("backstage")]),e._v(" "),e._l(e.noChildren,function(t){return n("el-menu-item",{key:t.path,attrs:{index:t.path},on:{click:function(n){return e.clickMenu(t)}}},[n("i",{class:"el-icon-"+t.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}),e._v(" "),e._l(e.hasChildren,function(t){return n("el-submenu",{key:t.path,attrs:{index:t.label}},[n("template",{slot:"title"},[n("i",{class:"el-icon-"+t.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])]),e._v(" "),n("el-menu-item-group",e._l(t.children,function(t,o){return n("el-menu-item",{key:o,attrs:{index:t.path},on:{click:function(n){return e.clickMenu(t)}}},[n("i",{class:"el-icon-"+t.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}),1)],2)})],2)},staticRenderFns:[]};var f=n("VU/8")(d,p,!1,function(e){n("T+L/")},"data-v-e161306c",null).exports,h=n("Dd8w"),v={data:function(){return{userImg:n("Z8/D"),a:localStorage.getItem("username")}},methods:{handleMenu:function(){this.$store.commit("collapseMenu")}},computed:n.n(h)()({},Object(r.b)({current:function(e){return e.tab.currentMenu}}))},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("div",{staticClass:"l-content"}),this._v(" "),t("div",{staticClass:"r-content"},[t("h3",{staticStyle:{color:"white"}},[t("router-link",{staticStyle:{color:"white"},attrs:{to:{path:"/"}}},[this._v("Admin")])],1)])])},staticRenderFns:[]};var b={name:"Main",components:{CommonAside:f,CommonHeader:n("VU/8")(v,g,!1,function(e){n("Bn1a")},"data-v-aa9ab5b6",null).exports}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticStyle:{height:"100%"}},[t("el-aside",{attrs:{width:"auto"}},[t("common-aside")],1),this._v(" "),t("el-container",[t("el-header",[t("common-header")],1),this._v(" "),t("el-main",[t("router-view")],1)],1)],1)},staticRenderFns:[]};var w=n("VU/8")(b,_,!1,function(e){n("bBzm")},"data-v-bed759d4",null).exports;o.default.use(r.a);var k={username:window.sessionStorage.getItem("username"),token:window.sessionStorage.getItem("token")},x={SET_TOKEN:function(e,t){e.token=t,window.sessionStorage.setItem("token",t)},GET_USERNAME:function(e,t){e.username=t,window.sessionStorage.setItem("username",t)},LOGOUT:function(e){e.token=null,e.username=null,window.sessionStorage.removeItem("username")}},y=new r.a.Store({state:k,mutations:x,actions:{},modules:{tab:{state:{isCollapse:!1,currentMenu:null,tabsList:[{path:"/",name:"Home",label:"Home",icon:"Home"}]},mutations:{collapseMenu:function(e){e.isCollapse=!e.isCollapse},selectMenu:function(e,t){"Home"==t.name?e.currentMenu=null:(e.currentMenu=t,-1===e.tabsList.findIndex(function(e){return e.name==t.name})&&e.tabsList.push(t))},closeTag:function(e,t){var n=e.tabsList.findIndex(function(e){return e.name===t.name});e.tabsList.splice(n,1)}}}}});o.default.use(i.a),o.default.use(r.a);var S=new i.a({routes:[{path:"/",name:"Login",component:m},{path:"/Main",name:"Main",component:w,children:[{path:"/Home",name:"Home",component:function(){return n.e(0).then(n.bind(null,"jRHq"))}},{path:"/pattern",name:"pattern",component:function(){return n.e(1).then(n.bind(null,"+ggB"))}}]}]});S.beforeEach(function(e,t,n){var o=y.state.token;e.meta.requireAuth?o?n():(console.log("该页面需要登陆"),n({path:"/Login"})):n()});var C=S,M=n("zL8q"),$=n.n(M),L=(n("tvR6"),n("aLYK")),E=n("XLwt");o.default.prototype.$echarts=E,o.default.prototype.$axios=l.a,l.a.defaults.baseURL="http://localhost:3001",o.default.config.productionTip=!1,o.default.use($.a),o.default.use(L.a,l.a),new o.default({router:C,store:y,el:"#app",components:{App:s},template:"<App/>"})},"T+L/":function(e,t){},"Z8/D":function(e,t,n){e.exports=n.p+"static/img/a.7bbc37d.jpg"},bBzm:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d470985bbc1e06f3edc7.js.map